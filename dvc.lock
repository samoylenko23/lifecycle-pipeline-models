schema: '2.0'
stages:
  get_data:
    cmd: python scripts/data.py
    deps:
    - path: scripts/data.py
      hash: md5
      md5: 9195637b9a22df0c2ea2c4e61d47b469
      size: 1740
    outs:
    - path: data/datasets.csv
      hash: md5
      md5: 88d1206b889fca5db65bd8298160f860
      size: 9702833
  fit_model:
    cmd: python scripts/fit.py
    deps:
    - path: data/datasets.csv
      hash: md5
      md5: 88d1206b889fca5db65bd8298160f860
      size: 9702833
    - path: scripts/fit.py
      hash: md5
      md5: 747e1e900f723e8b57b73ae3d8bd5492
      size: 3463
    params:
      params.yaml:
        max_depth: 15
        ohe_drop: if_binary
        random_state: 42
        remainder: drop
        test_size: 0.3
        verbose_feature_names_out: false
    outs:
    - path: models/fitted_model.pkl
      hash: md5
      md5: 195236c276ab7142287007ef874470d7
      size: 1150528
  evaluate:
    cmd: python scripts/evaluate.py
    deps:
    - path: data/datasets.csv
      hash: md5
      md5: 88d1206b889fca5db65bd8298160f860
      size: 9702833
    - path: models/fitted_model.pkl
      hash: md5
      md5: 195236c276ab7142287007ef874470d7
      size: 1150528
    - path: scripts/evaluate.py
      hash: md5
      md5: 8e7a60280ce2f3a00b888c541bc6f567
      size: 3122
    params:
      params.yaml:
        n_jobs: -1
        n_splits: 5
        random_state: 42
        test_size: 0.3
    outs:
    - path: cv_results/cv_res.json
      hash: md5
      md5: 6a3155a2c7ecdf9225017f6b862eb2f5
      size: 193
